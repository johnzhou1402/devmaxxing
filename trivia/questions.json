{
  "questions": [
    {
      "id": "q-2026-01-07-001",
      "question": "What's the GMV threshold for accelerator program graduation?",
      "answer": "$500,000 - after this, companies pay 2.5% card fees instead of 0%",
      "system": "accelerator_program",
      "source_pr": "PR #495",
      "source_file": "backend/app/services/accelerator_program/graduate.rb",
      "added_date": "2026-01-07",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-07-002",
      "question": "What are the four Stripe BNPL payment method types that are excluded from card auto-refund logic?",
      "answer": "klarna, affirm, zip, afterpay_clearpay - these are treated as financing resolutions instead of card resolutions",
      "system": "resolution_center",
      "source_pr": "PR #587",
      "source_file": "backend/app/workers/resolution_manager/auto_respond_worker.rb",
      "added_date": "2026-01-07",
      "times_asked": 1,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-07-003",
      "question": "What three payment types have separate auto-refund thresholds in the Resolution Center?",
      "answer": "Card, Financing (BNPL), and PayPal - each can have different threshold amounts configured in bot_metadata",
      "system": "resolution_center",
      "source_pr": "PR #587",
      "source_file": "backend/app/workers/resolution_manager/auto_respond_worker.rb",
      "added_date": "2026-01-07",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-07-004",
      "question": "What service is called when a bot crosses a GMV threshold in the cache worker?",
      "answer": "CreatorManager::CreateWhopCustomSupport - it creates a custom support chat for creators who reach certain revenue milestones",
      "system": "creator_support",
      "source_pr": "PR #420",
      "source_file": "backend/app/workers/cache_manager/update_bot_payments_cache_worker.rb",
      "added_date": "2026-01-07",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-07-005",
      "question": "What database type should be used for financial columns like balances and amounts?",
      "answer": "decimal with precision 10, scale 2 - never use float (precision issues) or bigint for cents",
      "system": "database_patterns",
      "source_pr": "PR #455",
      "source_file": "backend/db/migrate/20260105225639_add_plaid_balance_to_payout_tokens.rb",
      "added_date": "2026-01-07",
      "times_asked": 1,
      "times_correct": 1
    },
    {
      "id": "q-2026-01-07-006",
      "question": "How do you filter for internal platform transfers in the credit_transactions ClickHouse table?",
      "answer": "Filter by credit_type = 'inner_platform_transfer' - no need for a separate credit_transaction_transfers mirror table",
      "system": "clickhouse",
      "source_pr": "PR #420",
      "source_file": "backend/app/models/credit_transaction.rb",
      "added_date": "2026-01-07",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-07-007",
      "question": "What naming convention should be used for USD-denominated columns?",
      "answer": "Add _in_usd suffix (e.g., total_earnings_with_transfers_in_usd) for clarity",
      "system": "database_patterns",
      "source_pr": "PR #420",
      "source_file": "backend/db/migrate/",
      "added_date": "2026-01-07",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-08-001",
      "question": "What URL parameter triggers accelerator program signup?",
      "answer": "isPlatform=true - use whop.com/new/?isPlatform=true or whop.com/sell/zf",
      "system": "accelerator_program",
      "source_pr": "PR #661",
      "source_file": "frontend/apps/core/components/shared/onboarding/index.tsx",
      "added_date": "2026-01-08",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-08-002",
      "question": "When can a user delete a payment method from the billing portal?",
      "answer": "Only when the payment method is not attached to an active subscription",
      "system": "billing_portal",
      "source_pr": "PR #630",
      "source_file": "backend/app/services/payments_manager/",
      "added_date": "2026-01-08",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-08-003",
      "question": "Which payment processors are considered 'financing resolutions' for auto-refund purposes?",
      "answer": "splitit, sezzle, and Stripe with BNPL payment methods (klarna, affirm, zip, afterpay_clearpay)",
      "system": "resolution_center",
      "source_pr": "PR #587",
      "source_file": "backend/app/workers/resolution_manager/auto_respond_worker.rb",
      "added_date": "2026-01-08",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-10-001",
      "question": "What subscription status was missing from the billing portal that caused canceling subscriptions to not appear?",
      "answer": "The 'canceling' status - subscriptions set to cancel at period end weren't shown because billingFetchMembershipsForCompany query didn't include this status filter",
      "system": "billing_portal",
      "source_pr": "PR #807",
      "source_file": "frontend/apps/core/features/billing/",
      "added_date": "2026-01-10",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-10-002",
      "question": "What field should be used to display connected company volume that includes transfers?",
      "answer": "total_earnings_with_transfers_in_usd - not total_memberships_earnings which only includes GMV",
      "system": "connected_accounts",
      "source_pr": "PR #761",
      "source_file": "backend/app/graphql/types/",
      "added_date": "2026-01-10",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-12-001",
      "question": "What constant maps MassPay API attribute names to human-readable labels?",
      "answer": "PayoutTokenAttribute::DATA_TYPE_LABEL_MAPPING - e.g., 'BankAccountNumber' becomes 'Bank account number'",
      "system": "payouts",
      "source_pr": "PR #809",
      "source_file": "backend/app/services/payments_manager/create_payout_token.rb",
      "added_date": "2026-01-12",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-12-002",
      "question": "What field should be excluded from the public REST API for withdrawals?",
      "answer": "withdrawal_type - it's internal-only for distinguishing regular vs clawback withdrawals",
      "system": "public_api",
      "source_pr": "PR #789",
      "source_file": "backend/app/graphql/types/public/",
      "added_date": "2026-01-12",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-12-003",
      "question": "What check was missing in ExpireResourceWorker that caused 'once' duration discounts to be discarded prematurely?",
      "answer": "The remaining_uses check - the worker only checked ended_at but didn't check if remaining_uses was still positive",
      "system": "discounts",
      "source_pr": "PR #813",
      "source_file": "backend/app/workers/expire_resource_worker.rb",
      "added_date": "2026-01-12",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-13-001",
      "question": "What US territories are valid for payout address validation?",
      "answer": "PR (Puerto Rico), GU (Guam), VI (US Virgin Islands), AS (American Samoa), MP (Northern Mariana Islands) - defined in US_TERRITORIES constant",
      "system": "payouts",
      "source_pr": "PR #979",
      "source_file": "backend/app/services/payouts/",
      "added_date": "2026-01-13",
      "times_asked": 1,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-13-002",
      "question": "What are the validation rules for custom statement descriptors on withdrawals?",
      "answer": "Must be 5-22 characters, alphanumeric only (A-Z, a-z, 0-9), no forbidden words",
      "system": "payouts",
      "source_pr": "PR #963",
      "source_file": "backend/app/graphql/mutations/ledger_accounts/create_ledger_withdrawal.rb",
      "added_date": "2026-01-13",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-23-001",
      "question": "What's the exponential backoff schedule for split pay memberships after max retries are reached?",
      "answer": "3 days, 6 days, 12 days, 24 days, then capped at 30 days. Formula: 3 * 2^(attempts_beyond_max - 1) days.",
      "system": "payments",
      "source_pr": "PR #1837",
      "source_file": "backend/app/services/receipt_manager/execute_payment.rb",
      "added_date": "2026-01-23",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-23-002",
      "question": "What's the default max payment retries before a subscription is normally canceled?",
      "answer": "4 retries. Split pay memberships bypass this cancellation but still use exponential backoff afterward.",
      "system": "payments",
      "source_pr": "PR #1837",
      "source_file": "backend/app/services/receipt_manager/payment_intents/update.rb",
      "added_date": "2026-01-23",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-23-004",
      "question": "What environment variable overrides the embedded components GraphQL endpoint?",
      "answer": "NEXT_PUBLIC_GRAPHQL_ENDPOINT for the Next.js app, and window.__WHOP_ELEMENTS_ORIGIN__ at runtime for the vanilla JS SDK.",
      "system": "developer_platform",
      "source_pr": "PR #1809",
      "source_file": "developer-platform/packages/embedded-components-vanilla-js/src/url.ts",
      "added_date": "2026-01-23",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-23-005",
      "question": "What Tailwind class is gap-24 in pixels?",
      "answer": "96px (6rem). This is usually too large for most UI layouts - a common mistake when copy-pasting spacing values.",
      "system": "frontend",
      "source_pr": "PR #1790",
      "source_file": "frontend/apps/core/components/dashboard/withdrawals/modals/table-withdrawals-details-modal.tsx",
      "added_date": "2026-01-23",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-23-007",
      "question": "Can Apple Pay/Google Pay tokens be reused for off_session charges?",
      "answer": "Yes, the backend now supports reusing network tokens for off_session. This was added recently - previously it was blocked.",
      "system": "checkout",
      "source_pr": "PR #1647",
      "source_file": "frontend/apps/core/components/checkout/shared/payment-request-button/express/index.dynamic.tsx",
      "added_date": "2026-01-23",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-23-008",
      "question": "What permission is required to transfer funds to/from connected accounts?",
      "answer": "PayoutTransferFunds permission. The transferFunds mutation handles both add (platform->connected) and pull (connected->platform) operations.",
      "system": "payouts",
      "source_pr": "PR #1633",
      "source_file": "frontend/apps/core/components/dashboard/connected-companies/detail/transfer-funds-modal.tsx",
      "added_date": "2026-01-23",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-23-009",
      "question": "What fields were added to the payout method REST API for better UX?",
      "answer": "bank_name (maps to institution_name) and last4 (maps to account_reference). Returned at GET /api/v1/payout_methods.",
      "system": "api",
      "source_pr": "PR #1629",
      "source_file": "backend/app/graphql/types/output/payout_token_type.rb",
      "added_date": "2026-01-23",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-23-010",
      "question": "What do you need to add when making changes to npm-published packages in developer-platform?",
      "answer": "A changeset file using `pnpm changeset`. Without it, the new version won't be published to npm.",
      "system": "developer_platform",
      "source_pr": "PR #1539",
      "source_file": "developer-platform/.changeset/chatty-numbers-stare.md",
      "added_date": "2026-01-23",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-26-001",
      "question": "Can users add payout methods when they have $0 balance?",
      "answer": "Yes - PR #2020 changed this. The destination selector and payment method UI now show regardless of balance. Only fees, exchange rates, and estimated delivery are hidden when balance is 0.",
      "system": "payouts",
      "source_pr": "PR #2020",
      "source_file": "developer-platform/apps/embeddable-components/components/payouts/withdraw/views/request-withdrawal/index.tsx",
      "added_date": "2026-01-26",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-26-002",
      "question": "How do you rename or delete a payout method in the withdraw widget?",
      "answer": "Hover over the payout method in the dropdown to reveal edit/delete icons. Edit opens a dialog for renaming, delete shows a confirmation dialog. Uses renamePayoutToken and deletePayoutToken GraphQL mutations.",
      "system": "payouts",
      "source_pr": "PR #1787",
      "source_file": "developer-platform/apps/embeddable-components/components/payouts/withdraw/views/request-withdrawal/payout-token-select.tsx",
      "added_date": "2026-01-26",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-26-003",
      "question": "What are the two onboarding flows and how do they differ?",
      "answer": "Seller flow: Team -> Products -> Payments -> Invoices -> Payouts. Platform flow: Team -> Connected Accounts -> Payouts -> Payments. Platform focuses on multi-tenant setup first.",
      "system": "onboarding",
      "source_pr": "PR #1694",
      "source_file": "backend/app/services/onboarding/step_config.rb",
      "added_date": "2026-01-26",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-26-004",
      "question": "What triggers auto-completion of onboarding steps?",
      "answer": "Backend callbacks: invite_member (AuthorizedUser created), create_product (Plan created), create_checkout_link (Plan created), create_invoice (Invoice created), complete_kyc (verification status -> submitted).",
      "system": "onboarding",
      "source_pr": "PR #1694",
      "source_file": "backend/app/services/onboarding/step_service.rb",
      "added_date": "2026-01-26",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-26-005",
      "question": "What's the fallback display name for payout methods without nicknames?",
      "answer": "'Unnamed' - the getDisplayName function returns this when nickname is null or undefined, ensuring consistent display across the dropdown and dialogs.",
      "system": "payouts",
      "source_pr": "PR #1787",
      "source_file": "developer-platform/apps/embeddable-components/components/payouts/withdraw/views/request-withdrawal/payout-token-select.tsx",
      "added_date": "2026-01-26",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-001",
      "question": "When adding a new GraphQL field that provides the same data as an existing field (e.g., adding `errors: [Error!]!` alongside `errorMessage: String`), what should you do with the old field?",
      "answer": "Mark it as deprecated with @deprecated directive - never delete fields from GraphQL schemas as this breaks existing clients. The frontend can stop requesting it, but the API must continue to return it.",
      "system": "graphql",
      "source_pr": "PR #2059",
      "source_file": "backend/app/graphql/types/output/payout_account_required_attribute_type.rb",
      "reviewer": "baked-dev",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-002",
      "question": "In embedded components, when should you use IframedDialog vs the regular Dialog component?",
      "answer": "Prefer regular Dialog - it has native dimming and is simpler. IframedDialog is only needed for special iframe-specific behaviors. Using IframedDialog when a regular Dialog works adds unnecessary complexity.",
      "system": "developer_platform",
      "source_pr": "PR #2060",
      "source_file": "developer-platform/apps/embeddable-components/components/payouts/withdraw/views/request-withdrawal/cant-find-method-dialog.tsx",
      "reviewer": "baked-dev",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-003",
      "question": "A GraphQL mutation argument is named `request` and accepts user input text. What's wrong with this naming?",
      "answer": "It's ambiguous - 'request' could mean many things. Use descriptive names like `requested_payout_method_name` that make the purpose clear without reading the description.",
      "system": "graphql",
      "source_pr": "PR #2060",
      "source_file": "backend/app/graphql/mutations/ledger_accounts/request_payout_method.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-004",
      "question": "How should you define the return type for a GraphQL mutation that only needs to indicate success/failure?",
      "answer": "`payload_type Boolean` - no need for a custom payload type or wrapping. Keep it simple when you just need true/false.",
      "system": "graphql",
      "source_pr": "PR #2060",
      "source_file": "backend/app/graphql/mutations/ledger_accounts/request_payout_method.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-005",
      "question": "How should new GraphQL mutations access the current company?",
      "answer": "Pass company_id as a required argument directly: `argument :company_id, ID, required: true`. The context[:current_company] pattern is deprecated and should not be used in new code.",
      "system": "graphql",
      "source_pr": "PR #2060",
      "source_file": "backend/app/graphql/mutations/ledger_accounts/request_payout_method.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 1,
      "times_correct": 1
    },
    {
      "id": "q-2026-01-28-006",
      "question": "Should Admin::SendSlackWebhook calls in GraphQL mutations block the response?",
      "answer": "No - make them async. Slack webhooks should not block the mutation response. Remove process_inline or use a background job so users don't wait for Slack delivery.",
      "system": "backend",
      "source_pr": "PR #2060",
      "source_file": "backend/app/graphql/mutations/ledger_accounts/request_payout_method.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-007",
      "question": "A worker queries withdrawals by `updated_at` to monitor the payouts pipeline. What's the problem with this approach?",
      "answer": "updated_at changes for many reasons (status changes, metadata updates, etc.), not just the state you care about. Use events instead - they capture specific state transitions and are more reliable for tracking changes.",
      "system": "workers",
      "source_pr": "PR #2083",
      "source_file": "backend/app/workers/operations/payout_volume_summary_worker.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-008",
      "question": "A worker queries `WHERE updated_at > ?` on a table. What database change should accompany this?",
      "answer": "Add an index on the updated_at column. Without an index, the query will do a full table scan which is slow on large tables.",
      "system": "database",
      "source_pr": "PR #2083",
      "source_file": "backend/app/workers/operations/payout_error_summary_worker.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-009",
      "question": "What two constants should Sidekiq workers include for proper Sentry domain tagging?",
      "answer": "TEAM_DOMAIN (e.g., :payments) and TEAM_SUBDOMAIN (e.g., :payouts). Both are needed - TEAM_DOMAIN alone is insufficient for proper error routing.",
      "system": "workers",
      "source_pr": "PR #2083",
      "source_file": "backend/app/workers/operations/payout_error_summary_worker.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-010",
      "question": "When should you call `.reload` on an ActiveRecord object?",
      "answer": "Only when you need to fetch changes made by another process or after a raw SQL update. Don't reload just to 'be safe' - each reload causes an extra SQL query. If you just saved the object, you already have the latest data.",
      "system": "backend",
      "source_pr": "PR #2059",
      "source_file": "backend/app/services/payments_manager/payouts/sync_requirements.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-011",
      "question": "A method converts provider-specific error data into a standard format. What should it be named?",
      "answer": "Use a name like `serialize_provider_errors` that describes both what it does (serialize) and what data it operates on (provider errors). Generic names like `format_errors` don't make the purpose clear.",
      "system": "backend",
      "source_pr": "PR #2059",
      "source_file": "backend/app/models/payout_account_attribute.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-28-012",
      "question": "How should fields be ordered in GraphQL type definitions?",
      "answer": "Alphabetically. This makes fields easier to find, prevents merge conflicts from random ordering, and maintains consistency across the codebase.",
      "system": "graphql",
      "source_pr": "PR #2059",
      "source_file": "backend/app/graphql/types/output/payout_account_required_attribute_type.rb",
      "reviewer": "jacksonhuether",
      "added_date": "2026-01-28",
      "times_asked": 0,
      "times_correct": 0
    },
    {
      "id": "q-2026-01-29-001",
      "question": "You see this code:\n\n```tsx\nconst { isDemoMode } = useDemoMode();\n<CantFindMethodDialog isDemoMode={isDemoMode} />\n```\n\nWhat's the code smell, and how do you spot it in the future?",
      "answer": "The parent is acting as a middleman - calling a hook and immediately passing the result as a prop without transforming it. The child should call useDemoMode() directly.\n\n**The one-liner test:** 'Am I just a middleman passing this value through?' If yes, let the child get it directly.\n\n**Exceptions:** (1) Parent transforms the value, (2) Parent also needs the value, (3) Child is a generic component that shouldn't know about app-specific hooks.",
      "system": "react_patterns",
      "source_pr": "PR #2060",
      "source_file": "developer-platform/apps/embeddable-components/components/payouts/withdraw/views/request-withdrawal/index.tsx",
      "reviewer": "baked-dev",
      "added_date": "2026-01-29",
      "times_asked": 0,
      "times_correct": 0
    }
  ],
  "code_reviews": [],
  "stats": {
    "current_streak": 2,
    "best_streak": 2,
    "last_played": "2026-01-28"
  }
}
